<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Compra Concluída</title>
    <style>
        body { font-family: sans-serif; text-align: center; margin-top: 50px; background: #000; color: white; }
        .confirmation-box { border: 1px solid #2aa6ff; padding: 30px; max-width: 500px; margin: 0 auto; background: #111; border-radius: 8px; }
        h1 { color: #4CAF50; }
        .code { font-size: 24px; font-weight: bold; color: #2aa6ff; margin: 15px 0; padding: 10px; background: #222; border-radius: 5px; }
    </style>
</head>
<body>

    <div class="confirmation-box">
        <h1>✅ Compra em Processamento!</h1>
        <p>Sua compra foi registrada. Você receberá o produto em breve após a confirmação do pagamento pelo LivePix.</p>
        
        <p>Seu Código de Compra (ID da Transação):</p>
        <div class="code" id="purchase-code">Carregando...</div>
        
        <p style="font-size: 0.9em; color: #ccc;">Use este código para referenciar sua compra em caso de suporte.</p>
    </div>

    <script>
        // Puxa o ID da cobrança que foi salvo no localStorage antes do redirecionamento
        const chargeId = localStorage.getItem('charge_id');
        const codeElement = document.getElementById('purchase-code');

        if (chargeId) {
            codeElement.innerText = chargeId;
            // Opcional: Limpar o localStorage após exibir
            localStorage.removeItem('charge_id');
        } else {
            codeElement.innerText = "Código não encontrado. Entre em contato com o suporte.";
        }
    </script>

</body>
</html>